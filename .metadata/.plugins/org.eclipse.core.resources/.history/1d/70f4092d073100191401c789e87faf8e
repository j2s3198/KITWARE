<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="project.groupware.member.Dao"> <!-- Dao implements한 클래스 이름지정 -->

	<resultMap id="memberResult" type="project.groupware.member.Member"> <!-- id:검색된결과를 반환, type:Bean/DTO/VO -->
		<result column="member_id" property="member_id" /> <!-- column:컬럼이름, property:멤버변수 -->
		<result column="member_pw" property="member_pw" />
		<result column="member_name" property="member_name" />
		<result column="member_birth" property="member_birth" />
		<result column="member_email" property="member_email" />
		<result column="member_address1" property="member_address1" />
		<result column="member_address2" property="member_address2" />
		<result column="member_address3" property="member_address3" />
		<result column="member_phone" property="member_phone" />
		<result column="member_department" property="member_department" />
		<result column="member_rank" property="member_rank" />
		<result column="member_indate" property="member_indate" />
		<result column="member_modidate" property="member_modidate" />		
	</resultMap>
	
	<insert id="insert" parameterType="project.groupware.member.Member"> <!-- id:interface method 이름, parameterType:객체 -->
		INSERT INTO member VALUES(#{member_id}, #{member_pw}, #{member_name}, #{member_birth}, 
		#{member_email}, #{member_address1}, #{member_address2}, #{member_address3},  #{member_phone},
		 #{member_department}, #{member_rank}, sysdate, null)
	</insert>
	
	<select id="select" parameterType="int" resultMap="memberResult">
		SELECT * FROM member WHERE member_id = #{member_id}
	</select>
	
	<!-- 컬럼하나만 검색했을 때 -->
	<select id="selectEmail" parameterType="String" resultType="String">
		SELECT email FROM member WHERE member_id = #{member_id}
	</select>
	
	<select id="selectAllMem" resultMap="memberResult">
		select * from member
	</select>
	
	<update id="update" parameterType="project.groupware.member.Member">
		UPDATE member SET member_pw = #{member_pw} WHERE member_id = #{member_id}
	</update>
	
	<delete id="delete" parameterType="String">
		DELETE member WHERE member_id = #{member_id}
	</delete>

</mapper>

